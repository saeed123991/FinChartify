{% extends 'base.html' %}

{% block content %}
<div class="dashboard">
    <h2>FinChartify ðŸ“ŠðŸ’°</h2>
    <div class="header-actions">
        <input type="text" id="search-input" placeholder="Search expenses..." class="search-bar">
        <button id="add-expense-btn" class="btn">Add Expense</button>
    </div>

    <table id="expense-table" class="table">
        <thead>
            <tr>
                <th>#</th>
                <th>Name</th>
                <th>Description</th>
                <th>Amount â‚¬</th>
                <th>Date</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            <!-- Dynamic content -->
        </tbody>
    </table>

    <!-- Modal for Chart -->
    <div id="chart-modal" class="modal">
        <div class="modal-content">
            <span class="chart-close-btn">&times;</span>
            <h3>Expense Chart</h3>
            <canvas id="expense-chart"></canvas> <!-- Chart canvas inside modal -->
        </div>
    </div>

    <div class="export-logout">
        <a href="{{ url_for('export_expenses') }}" class="btn">Export Excel</a>
        <a href="#" class="btnDanger" id="logout-btn" data-logout-url="{{ url_for('logout') }}">Logout</a>
    </div>
</div>

<!-- Modal for Adding or Editing Expense -->
<div id="expense-modal" class="modal">
    <div class="modal-content">
        <span class="close-btn">&times;</span>
        <h3 id="modal-title">Add Expense</h3>
        <form id="expense-form">
            <label for="expense-name">Name</label>
            <input type="text" id="expense-name" required>

            <label for="expense-description">Description</label>
            <input type="text" id="expense-description">

            <label for="expense-amount">Amount</label>
            <input type="number" id="expense-amount" required>

            <label for="expense-date">Date</label>
            <input type="date" id="expense-date" required>

            <button type="submit" class="btn" id="submit-btn">Save Expense</button>
        </form>
    </div>
</div>
{% endblock %}